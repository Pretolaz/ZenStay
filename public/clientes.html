<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZenStay | Clientes</title>

    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/components.css">
    <link rel="stylesheet" href="assets/css/clientes.css">
    <link rel="stylesheet" href="assets/css/toast.css">
    <link rel="stylesheet" href="theme/dark.css" id="theme-style">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Sidebar dinÃ¢mica -->
    <div id="sidebar"></div>

    <main class="content">
        <header class="header">
            <button class="menu-toggle" id="header-menu-toggle">â˜°</button>
            <!-- BotÃ£o de menu hambÃºrguer no cabeÃ§alho -->
            <h1>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Gerenciar HÃ³spedes</h1>
            <button id="toggle-theme">ğŸŒ“</button>
        </header>

        <section class="dashboard">
            <!-- BotÃ£o para Cadastrar Novo HÃ³spede -->
            <div class="card" style="flex: 1 1 100%; text-align: center;">
                <button id="btnToggleForm" class="btn">â• Criar Novo HÃ³spede</button>
            </div>

            <!-- FormulÃ¡rio (inicialmente oculto) -->
            <div id="cadastroClienteCard" class="card" style="flex: 1 1 100%; display: none;">
                <h3>ğŸ“ Cadastrar Novo HÃ³spede</h3>
                <div id="alerta" class="alerta-erro"></div>

                <form id="formCliente">
                    <input type="hidden" id="clienteId">

                    <div class="form-row">
                        <div class="input-group">
                            <span>#</span>
                            <input type="number" id="codigoInterno" placeholder="CÃ³digo interno (auto)" readonly>
                        </div>
                        <div class="input-group">
                            <span>ğŸ†”</span>
                            <input type="text" id="codigoPlataforma" maxlength="20" placeholder="CÃ³digo na plataforma">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="input-group">
                            <span>ğŸ‘¤</span>
                            <input type="text" id="nome" placeholder="Nome completo" required>
                        </div>
                        <div class="input-group">
                            <span>âœ‰ï¸</span>
                            <input type="email" id="email" placeholder="E-mail (opcional)">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="input-group" style="max-width: 220px;">
                            <span>ğŸ“</span>
                            <input type="number" id="codPais" placeholder="55" value="55" min="1">
                        </div>
                        <div class="flag-display" id="flagInfo">
                            <img src="https://flagcdn.com/w20/br.png" alt="BR">
                            <span>Brasil</span>
                        </div>
                        <div class="input-group" style="flex: 2;">
                            <span>ğŸ“±</span>
                            <input type="text" id="telefone" placeholder="NÃºmero com DDD" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="input-group">
                            <span>ğŸ”—</span>
                            <input type="url" id="linkChat" placeholder="Link do chat (opcional)">
                        </div>
                        <div class="input-group">
                            <span>ğŸ—£ï¸</span>
                            <select id="idioma">
                                <option value="pt-BR" selected>ğŸ‡§ğŸ‡· PortuguÃªs (BR)</option>
                                <option value="en">ğŸ‡¬ğŸ‡§ English</option>
                                <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                                <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                                <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <textarea id="observacao" placeholder="ObservaÃ§Ãµes sobre o hÃ³spede..."></textarea>
                    </div>

                    <div class="form-row">
                        <div class="input-group">
                            <span>ğŸ“…</span>
                            <input type="text" id="dataCadastro" placeholder="Data de Cadastro (automÃ¡tico)" readonly>
                        </div>
                    </div>

                    <button type="submit" class="btn">ğŸ’¾ Salvar</button>
                    <button type="button" class="btn btn-secondary" id="btnCancelarCadastro">âŒ Cancelar</button>
                </form>
            </div>

            <!-- Tabela -->
            <div class="card" style="flex: 1 1 100%;">
                <h3>ğŸ“‹ HÃ³spedes Cadastrados</h3>
                <div class="form-row" style="margin-bottom: 15px; align-items: center;">
                    <div class="input-group" style="flex: 1;">
                        <span>ğŸ”</span>
                        <input type="text" id="filtroBusca" placeholder="Filtrar por nome ou telefone...">
                    </div>
                    <div class="input-group" style="margin-left: 10px; max-width: 250px;">
                        <span>Ordenar por:</span>
                        <select id="ordenacaoClientes"
                            style="flex: 1; border: none; background: transparent; color: var(--text);">
                            <option value="idDesc" selected>CÃ³d. Interno (Recente)</option>
                            <option value="idAsc">CÃ³d. Interno (Antigo)</option>
                            <option value="nomeAsc">Nome (A-Z)</option>
                            <option value="nomeDesc">Nome (Z-A)</option>
                            <option value="dataCadastroDesc">Data Cadastro (Recente)</option>
                            <option value="dataCadastroAsc">Data Cadastro (Antigo)</option>
                        </select>
                    </div>
                </div>
                <table id="tabelaClientes">
                    <thead>
                        <tr>
                            <th>PaÃ­s</th>
                            <th>CÃ³d. Interno</th>
                            <th>Nome</th>
                            <th>Email</th>
                            <th>Whats App</th>
                            <th>Idioma</th>
                            <th>Data Cadastro</th>
                            <th>AÃ§Ãµes</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
                form.reset();
                document.getElementById('clienteId').value = '';
                document.getElementById('codigoInterno').value = '';
                document.getElementById('dataCadastro').value = '';
                document.getElementById('codPais').value = 55;
                atualizarBandeira(55);
                cadastroClienteCard.style.display = 'block';
                btnToggleForm.textContent = 'âœ–ï¸ Fechar FormulÃ¡rio';
                } else {
                // Se o formulÃ¡rio estÃ¡ aberto, apenas fecha
                cadastroClienteCard.style.display = 'none';
                btnToggleForm.textContent = 'â• Criar Novo HÃ³spede';
                }
                }

                form.addEventListener('submit', salvarCliente);
                btnToggleForm.addEventListener('click', resetAndToggleForm);
                btnCancelarCadastro.addEventListener('click', resetAndToggleForm);
                filtroBuscaInput.addEventListener('input', carregarClientes);
                ordenacaoClientesSelect.addEventListener('change', carregarClientes);
                window.addEventListener('DOMContentLoaded', carregarClientes);
                </script>
</body>

</html>